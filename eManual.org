:PROPERTIES:
:TITLE: Emacs 核心操作速查文档
:AUTHOR: jingpeng
:DATE: 2026-01-10
:END:

* 为什么要学习 Emacs？—— 从编辑器到黑客的自我修养
:PROPERTIES:
:ID:       emacs-hacker-cultivation
:CREATED:  [2026-01-13 Tue]
:END:

** 引言：编辑器之战与神的定义
提到 Linux 下的编辑器，永远绕不开两大神器：*Vim* & *Emacs*。
我从 2018 年开始使用 Emacs，直到现在。网上流传着一句经典的评价：
> “Vim 是编辑器之神，Emacs 是神的编辑器。”

为什么要学习 Emacs？为什么说它是“神的编辑器”？
我将从两个维度来阐述：一是**编辑器本身的特性（Lisp 语言）**，二是**Emacs 背后的黑客思维**。

** 一、 重新认识 Emacs：伪装成编辑器的操作系统
Vim 是编辑器领域的佼佼者，它的核心在于**极致的编辑效率**，是模态编辑的巅峰。
而 Emacs 则完全不同。Richard Stallman 创造它时，赋予了它一个宏大的愿景：*Emacs 实际上是一个伪装成编辑器的操作系统（Operating System）。*

- 功能的无限性：在 Emacs 里，你不仅可以写代码，还可以发送邮件、阅读 RSS、浏览网页、管理日程（Org-mode），甚至玩游戏。
- Lisp 的灵魂：Emacs 之所以能成为“操作系统”，是因为它内置了完整的编程语言—— **Emacs Lisp (Elisp)** 。

** 二、 表处理语言与《黑客与画家》
最早让我意识到 Lisp 强大的，是保罗·格雷厄姆的《黑客与画家》。这本书对我的影响极大。

*Lisp (List Processing，表处理语言)* 并不是一种晦涩的古董，它在工程领域其实很常见：
- 三维建模软件 **Maya** 使用 MEL 和 Python（受 Lisp 影响）进行脚本控制；
- 印制电路板设计软件 **Allegro** 也有基于 Skill (Lisp 方言) 的脚本系统。

这些工具的共同点是： *它们允许用户通过代码去修改工具本身的行为*

** 三、 画家的思维：工具是思维的延伸
大多数爱好者看问题容易只看表面。如果我们从 **画家** 的角度来看，就能抓住问题的关键：

程序员就像是一名画家。画家画出美丽的图画，画笔固然重要，但这不是主要的。**真正决定画作的，是画家的思维，画笔只是思维的延伸。**

*程序，就是实现你想法的工具。*

- 如果你有美术基础：你可以编写交互式 UI、绘图工具，创造视觉语言。
- 如果你有物理数学基础：你可以编写仿真、模拟、运算工具，探索宇宙规律。
- 如果你有电路与芯片基础：像我一样，你可以借助 C/C++ 描述 MCU/MPU 的启动过程，配置寄存器，驱动 I2C、USB、UART 等硬件。

**我想表达的是：程序实际上是在你已知的知识框架里运转的。**

只有建立了这样的认知，你学习编程语言、数据结构、算法、设计模式才是真正有效的。你会发现，**计算机世界不是由语法构成的，而是由逻辑和原理构成的。**

** 四、 Emacs 的精髓：不要被知识局限了思维
回到 Emacs。它究竟好在哪里？

Emacs 的操作其实很简单，快捷键无非就是那些组合。但人的思维是无限的。Emacs 的好，在于它**不限制你的思维**。

- 当你发现一个工作流繁琐时，在其他编辑器里你可能只能忍受，或者寻找插件；
- 而在 Emacs 里，你可以花 5 分钟写一段 Elisp 脚本，直接改变编辑器的行为，让它适应你。

**这就是“神的编辑器”的含义：它不是让你去适应工具，而是让工具进化来适应你。**

** 五、 如何开始：循序渐进的黑客之路
既然 Emacs 这么强大，是不是意味着学习曲线极其陡峭？
是的，但这是值得的。对于初学者，我有以下建议：

1.  先僵化，后优化：
    刚开始，不要试图去写配置文件（Init.el）。先多用，多操作，把基础的移动、编辑、窗口管理练熟。就像学习嵌入式，你得先看懂 Datasheet，再去写 Driver。

2.  技术背景是技巧的基石：
    世界上任何一个行业，所有的技巧、智巧，都需要以强大的技术知识背景为铺垫。
    不要沉迷于花里胡哨的界面（Rice），那是本末倒置。先学好你的专业知识（如 C 语言、操作系统原理），再用 Emacs 作为利器去辅助你的工作。

3.  保持求知欲：
    多记笔记（强烈推荐 Org-mode），多回顾，多总结。

** 结语：致敬无名的建造者
所有的东西都在因变化而变化，每个时代都会有对应的挑战，这才是技术世界的精彩之处。

但我们不能忘记，**世界上很多技术技巧，都是由一群兴趣爱好者共同建筑的。**
Emacs 庞大的生态、Vim 精妙的插件、Linux 内核的每一次更新……这背后是无数时间和精力的铺垫。**如果非要用价值去估计，它们是无法估计的。**

作为一名黑客（Hacker），我们探索的东西还有许多。Emacs 不仅仅是一个编辑器，它是一种**生活方式**，是一种**掌控自己数字环境的宣言**。

不要被现有的工具束缚住你的想象力。
**拿起你的画笔(Emacs), 去构建属于你的世界吧**

* 2. 基础操作



* Emacs 基础部分
:PROERTIES:
:ITEM:
:END:


** C-h
:PROERTIES:
:ITEM: 三大主要C-h {f v k}
:END:
*** 1. 查询eLisp函数
#+BEGIN_EXAMPLE 
C-h f
#+END_EXAMPLE
*** 2. 查询Emacs变量
*** 3. 查询Emacs键绑定


* 包管理器（Package Management）
   :PROPERTIES:
   :ITEM: 核心命令 + 交互快捷键
   :END:
*** 1. 显示完整包列表
       1.  进入包管理器（打开包列表缓冲区）
           #+BEGIN_EXAMPLE
           M-x list-packages
           #+END_EXAMPLE
       2.  查看包详情/模式说明（可选，补充精准命令）
           #+BEGIN_EXAMPLE
           M-x describe-mode  （光标定位到对应包，执行命令查看详情）
           #+END_EXAMPLE
   
*** 2. 安装与删除包（包列表缓冲区內操作，即 list-packages 打开后）
       | 操作功能                | 对应命令                  | 快捷操作 | 说明                     |
       |-------------------------|---------------------------|----------|--------------------------|
       | 标记当前包为安装        | (package-menu-mark-install) | i        | 光标定位到目标包，按 i 标记 |
       | 标记当前包为删除        | (package-menu-mark-delete)  | d        | 光标定位到已安装包，按 d 标记 |
       | 执行标记的安装/删除操作 | (package-menu-execute)     | X        | 标记完成后，按 X 执行批量操作 |
   
*** 3. 更新已安装的所有包（包列表缓冲区內操作）
       #+BEGIN_SRC emacs-lisp
       1.  r  -- (package-menu-refresh)：从远程服务器刷新最新包列表
       2.  U  -- (package-menu-mark-upgrades)：批量标记所有需要更新的包（大写 U）
       3.  X  -- (package-menu-execute)：执行已标记的更新操作（与安装/删除共用）
       #+END_SRC

* 版本控制（Magit - Git 客户端）
   :PROPERTIES:
   :ITEM: 核心流程：追踪 → 提交 → 推送
   :END:
*** 1. 基础入口
       #+BEGIN_EXAMPLE
       C-x g  -- 启动 magit-status，进入 Git 状态缓冲区（核心入口）
       #+END_EXAMPLE
*** 2. 文件追踪（暂存区操作）
       - s  -- 添加当前光标所在文件到暂存区（追踪/暂存，对应 git add）
       - u  -- 取消当前光标所在文件的暂存（退出追踪，对应 git reset）

*** 3. 提交代码（本地仓库）
       1.  C-c C-c c  -- 进入 magit-commit 提交信息编辑界面
       2.  输入提交说明（遵循 Git 提交规范，首行简洁概括）
       3.  C-c C-c  -- 确认提交（保存提交信息，完成本地提交，对应 git commit）
   
*** 4. 推送到远程仓库
       #+BEGIN_EXAMPLE
       C-c C-c P-u  -- 上传本地提交到远程仓库（对应 git push，大写 P+小写 u）
       #+END_EXAMPLE

* 三、目录树（Treemacs - 可视化文件目录）
   :PROPERTIES:
   :ITEM: 快速切换/浏览工程文件结构
   :END:   
   - C-x t t  -- 打开/关闭 Treemacs 目录树缓冲区（切换式快捷键，重复按可关闭）
   - M-0      -- 在 Treemacs 目录树与当前编辑程序页面之间切换光标（M 即 ALT）

